<div class="container">
  <div class="sidebar">
    <h2>Admin Panel</h2>
    <ul>
      <li><button (click)="showDashboard = true; showGrievances = false; showManagementForm = false; showFeedback = false;">Dashboard</button></li>
      <li><button (click)="showGrievances = true; showDashboard = false; showManagementForm = false; showFeedback = false;">View Grievances</button></li>
      <li><button (click)="toggleManagementForm()">Add Management Role</button></li>
      <li><button (click)="showFeedbackList()">View Feedback</button></li>
    </ul>
    <div class="logout">
      <button (click)="redirectToLogin()">Logout</button>
    </div>
  </div>

  <div class="main-content">
    <!-- Dashboard -->
    <div *ngIf="showDashboard">
      <div class="cards">
        <div class="card">
          <h3>Total Grievances</h3>
          <p>{{ totalGrievances }}</p>
        </div>
        <div class="card">
          <h3>Pending Grievances</h3>
          <p>{{ pendingGrievances }}</p>
        </div>
        <div class="card">
          <h3>Resolved Grievances</h3>
          <p>{{ resolvedGrievances }}</p>
        </div>
      </div>
    </div>

    <!-- Grievances Table -->
    <div *ngIf="showGrievances">
      <h2>All Complaints</h2>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Description</th>
            <th>Management Type</th>
            <th>Status</th>
            <th>Department Type</th>
            <th>Phone Number</th>
            <th>User ID</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let complaint of complaints">
            <td>{{ complaint.id }}</td>
            <td>{{ complaint.description }}</td>
            <td>{{ complaint.managementType }}</td>
            <td>{{ complaint.status }}</td>
            <td>{{ complaint.departmentType }}</td>
            <td>{{ complaint.phoneNumber }}</td>
            <td>{{ complaint.userId }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Management Role Form -->
    <div *ngIf="showManagementForm">
      <h2>Add Management Role</h2>
  <form (ngSubmit)="submitManagementRole()">
    <label for="roleUsername">Username</label>
    <input type="text" id="roleUsername" [(ngModel)]="roleUsername" name="roleUsername" required />

    <label for="rolePassword">Password</label>
    <input type="password" id="rolePassword" [(ngModel)]="rolePassword" name="rolePassword" required />

    <label for="roleName">Role Name</label>
    <select id="roleName" [(ngModel)]="selectedRole" name="roleName" required>
      <option value="" disabled>Select Role</option>
      <option *ngFor="let role of managementRoles" [value]="role.name">{{ role.name }}</option>
    </select>
    <button type="submit">Submit</button>
  </form>

    </div>

    <!-- Feedback List -->
    <div *ngIf="showFeedback">
      <h2>User Feedback</h2>
      <table>
        <thead>
          <tr>
            <th>Feedback ID</th>
            <th>User ID</th>
            <th>Feedback</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let feedback of feedbackList">
            <td>{{ feedback.id }}</td>
            <td>{{ feedback.userId }}</td>
            <td>{{ feedback.message }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
